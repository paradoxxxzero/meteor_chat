<head>
  <title>Public chat based on meteor</title>
</head>

<body>
  <div class="chats">
    <div class="chat-list">
      {{#each chats}}
        {{> chat}}
      {{/each}}
    </div>
    <div class="user-list">
      {{#each users}}
        {{> user}}
      {{/each}}
    </div>
    <div class="drawing-area">
      {{> canvas}}
    </div>
  </div>
  <form class="chat-input">
    {{> loginButtons}}
    {{#if currentUser}}
      <input type="text" name="chat" class="chat-prompt" placeholder="Enter a message…" autocomplete="off" style="color: {{currentUser.color}}">
      <input type="color" name="color" class="color" value="{{currentUser.color}}">
    {{else}}
      <input type="text" name="chat" class="chat-prompt" disabled placeholder="<- Please log in first" autocomplete="off">
    {{/if}}
  </form>
  <footer>
    This is a test implementation of a basic chat with <a href="https://www.meteor.com/">meteor</a>.
    © 2015 <a href="http://paradoxxxzero.github.io/">paradoxxxzero Florian Mounier</a>.
  </footer>
</body>

<template name="chat">
  <label class="chat" style="color: {{color}}"><a class="user" title="{{timestamp}}">&lt;{{user}}&gt;</a> {{text}}</label>
</template>

<template name="canvas">
  <canvas class="canvas"></canvas>
</template>

<template name="user">
  <label class="user" title="Add love to {{username}}" style="color: {{color}}">{{username}}{{#if count}} ({{count}}){{/if}}</label>
</template>
